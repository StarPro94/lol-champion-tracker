.particles-container {
  transform: translate(-50%, -50%);
}

/* Base particle styles */
.particle {
  position: absolute;
  width: var(--size);
  height: var(--size);
  transform: translate(-50%, -50%);
  opacity: 0;
  pointer-events: none;
}

/* Star particles - rotate and burst outward */
.particle-star {
  animation: starBurst var(--duration) cubic-bezier(0.25, 0.46, 0.45, 0.94) var(--delay) forwards;
}

.particle-star .particle-svg {
  width: 100%;
  height: 100%;
  filter: drop-shadow(0 0 4px var(--color));
  animation: starSpin var(--duration) linear var(--delay) forwards;
}

@keyframes starBurst {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0) rotate(var(--rotation));
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(
      calc(-50% + cos(var(--angle)) * var(--distance)),
      calc(-50% + sin(var(--angle)) * var(--distance))
    ) scale(1) rotate(calc(var(--rotation) + 180deg));
  }
}

@keyframes starSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Sparkle particles - quick flash */
.particle-sparkle {
  animation: sparkleFlash var(--duration) ease-out var(--delay) forwards;
}

.particle-sparkle .particle-svg {
  width: 100%;
  height: 100%;
  filter: drop-shadow(0 0 8px #fff) drop-shadow(0 0 12px var(--color));
}

@keyframes sparkleFlash {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0);
  }
  30% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.5);
  }
  100% {
    opacity: 0;
    transform: translate(
      calc(-50% + cos(var(--angle)) * var(--distance)),
      calc(-50% + sin(var(--angle)) * var(--distance))
    ) scale(0);
  }
}

/* Ring particles - expanding circles */
.particle-ring {
  border-radius: 50%;
  border: 2px solid var(--color);
  box-shadow: 0 0 10px var(--color), inset 0 0 10px var(--color);
  animation: ringExpand var(--duration) ease-out var(--delay) forwards;
}

@keyframes ringExpand {
  0% {
    opacity: 0.8;
    transform: translate(-50%, -50%) scale(0);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Trail particles - long streaks */
.particle-trail {
  border-radius: 50%;
  background: var(--color);
  box-shadow: 0 0 8px var(--color), 0 0 16px var(--color);
  animation: trailFade var(--duration) ease-out var(--delay) forwards;
}

@keyframes trailFade {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.8;
  }
  100% {
    opacity: 0;
    transform: translate(
      calc(-50% + cos(var(--angle)) * var(--distance)),
      calc(-50% + sin(var(--angle)) * var(--distance))
    ) scale(0.3);
  }
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .particle,
  .particle-star,
  .particle-sparkle,
  .particle-ring,
  .particle-trail {
    animation: none !important;
    display: none !important;
  }
}
